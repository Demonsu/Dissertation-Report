\documentclass[12pt,a4paper,oneside]{report}

\usepackage[T1]{fontenc}
\usepackage{fontspec}
\setmainfont{Palatino}
\setmonofont[Scale=0.9]{Lucida Sans Typewriter}

\usepackage[paperheight=297mm,paperwidth=210mm,
left=25mm,top=25mm,bottom=25mm]{geometry}
\usepackage{indentfirst}
\usepackage{url}
\usepackage{setspace}

\usepackage{abstract}
\usepackage{pdfpages}
\usepackage{fancyhdr}
\usepackage{setspace}
\usepackage{listings}

\usepackage{hyperref}
\usepackage{hypcap}

\usepackage{amsmath}

\renewenvironment{abstract}
{
  \thispagestyle{empty}
  \null
  \begin{center}
   \vspace{2.4cm}
    \setlength{\parskip}{0pt}
    \bigskip
    {\huge{\textit{Abstract}} \par}
    \bigskip
  \end{center}
}

\newcommand\acknowledgements[1]{
\thispagestyle{plain}
\null\vfil
\begin{center}{\huge{\textbf{Acknowledgements}} \par}\end{center}
{\normalsize #1}
\vfil\vfil\null
}

\newcommand\Declaration[1]{
\thispagestyle{plain}
\null\vfil
\begin{center}{\huge\bf Declaration\par}\end{center}
{\normalsize #1}
\vfil\vfil\null
}

\setlength{\parskip}{0.5\baselineskip}
\lstset{
    basicstyle=\singlespacing\footnotesize\ttfamily,
    breaklines=true,
    morekeywords={
        case, of, in, new, let, if, then, else, rec, data, type, (),
        Int, String, Char, Bool, Unit, forall, and, True, False
    },
    xleftmargin=\parindent
}

\title{Efficient Parser and Pretty Printer Combinators in F2J}
\author{Yuteng Zhong, Yi Li, Fan Xia}

\begin{document}

\pagestyle{empty}

% \maketitle
\makeatletter
\begin{titlepage}
    \begin{center}
        % \vspace*{1cm}
        \includegraphics[width=0.3\textwidth]{imgs/HKU}

        \large
        The University of Hong Kong\\
        Faculty of Engineering\\
        Department of Computer Science\\

        \vfill
        \vspace{0.5cm}
        COMP7704\\

        \Huge
        \@title\\

        \vfill

        \normalsize
        Submitted in partial fulfillment of the requirements for the admission to the degree of Master of Science in Computer Science

        \vfill

        \normalsize
        by\\
        \vspace{0.5cm}

        \begin{tabular}{ccc}
        Yuteng Zhong & Yi Li & Fan Xia\\
        3035169867 & 3035149518 & 3035150256
        \end{tabular}

        \vspace{0.5cm}
        Supervised by\\
        Assistant Professor Bruno C. d. S. Oliveira\\

        \vspace{0.5cm}
        \normalsize
        \@date
    \end{center}
\end{titlepage}
\clearpage

\doublespacing

\include{abstract}
\clearpage

\include{declaration}
\clearpage

\include{acknowledgement}
\clearpage

\tableofcontents
\clearpage

\pagestyle{plain}
\setcounter{page}{1}

\include{introduction}
\include{analysis}
\include{principles}
\include{general}
\include{monadic}
\include{pretty_printer}
\include{results}
\include{discussion}
\include{conclusion}

\renewcommand{\bibname}{References}
\bibliographystyle{plain}
\bibliography{report}

\end{document}
